<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="./stylesheet.css" />
		<style>
			input {
				width: 50%;
				height: 25px;
			}

			button {
				width: 20%;
				height: 30px;
			}

			p {
				width: 85%;
				text-align: justify;
			}

			h3 {
				text-align: left;
			}

			li {
				text-align: justify;
				width: 75%;
			}

			ul {
    			list-style-position: inside;
    			padding-left: 0px;
			}
		</style>
	</head>
	<body>
		<h2>Search</h2>
		<input id="search" placeholder="Search for a beer" onkeydown = "if (event.keyCode == 13){ document.getElementById('searchBtn').click(); }"/>&nbsp;<button id="searchBtn" onclick="startSearch()">Go!</button>
		<br/>
		<br/>
		<div id="content-here"></div>
		<script>
			var api_key = "5fa068c360dfc35b3136a2325a6c80ca";

			function startSearch() {
				var searchItem = document.getElementById("search").value;
				var url = "http://api.brewerydb.com/v2/search?key="+api_key+"&q="+encodeURIComponent(searchItem)+"&type=beer";

				var req = new XMLHttpRequest();
				req.open("GET", url, true);

				req.onload = function(e) {
   					if (req.readyState == 4 && req.status == 200) {
   						//alert(JSON.stringify(req.responseText));
   						var data = JSON.parse(req.responseText);

   						var beer = data.data[0];

   						document.getElementById("content-here").innerHTML = "<hr noshade /><h1>"+beer.name+"</h1><p><strong>ABV: "+beer.abv+"%<br/>IBU: "+beer.ibu+"</strong><br/><br/>"+beer.description+"<h3>Style:</h3><ul><li><strong>"+beer.style.name+"</strong></li><li>"+beer.style.description+"</li></ul></p>";
   					}
   				}
   				req.send(null);
			}
		</script>
	</body>
</html>